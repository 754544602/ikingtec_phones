(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/task/task"],{"04b5":function(t,e,a){"use strict";(function(t){a("c159"),a("921b");n(a("66fd"));var e=n(a("759f"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"0aa1":function(t,e,a){},"42d1":function(t,e,a){"use strict";a.r(e);var n=a("7b0c"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=s.a},"759f":function(t,e,a){"use strict";a.r(e);var n=a("f01f"),s=a("42d1");for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);a("9de1");var o,u=a("f0c5"),r=Object(u["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=r.exports},"7b0c":function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(a("8173")),i=o(a("7cff"));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){return Promise.all([a.e("common/vendor"),a.e("components/uni-calendar/uni-calendar")]).then(a.bind(null,"f766"))};function r(){var t=new Date;return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}var c={components:{uniCalendar:u},data:function(){return{email:"",taskBackgroundImage:s.default,taskHistoryBackgroundImage:i.default,historyTaskList:[],beingTaskList:[],date:r(),userType:this.$userInfo().userType}},methods:{open:function(){this.$refs.calendar.open()},dateClose:function(){},dateConfirm:function(t){this.date=t.fulldate,this.getBeingList()},toHistoryDetail:function(e){t.navigateTo({url:"/pages/task/taskDetail?taskId="+e})},getHistoryList:function(){var t=this;this.$request.post("/task/taskList",{taskHistory:"1"}).then(function(e){console.log(n(e," at pages\\task\\task.vue:84")),0==e.flag&&(t.historyTaskList=e.data.list.map(function(t){return t.statusName="已结束",t}))})},getBeingList:function(){var t=this,e={};"dronePilot"==this.userType&&(e.time=this.date),this.$request.post("/task/taskList",e).then(function(e){0==e.flag&&(t.beingTaskList=e.data.list.map(function(t){switch(t.status){case"waitApprove":t.statusName="待审批";break;case"waitStart":t.statusName="审批通过";break;case"noApprove":t.statusName="拒绝审批";break;case"being":t.statusName="执行中";break;case"waitEval":t.statusName="待评价";break;case"finish":t.statusName="已结束";break}return t}),t.beingTaskList=t.beingTaskList.filter(function(t){return"finish"!=t.status}))})}},onShow:function(){this.getBeingList(),this.getHistoryList()},onLoad:function(){t.loadFontFace({family:"ikingFont",source:"url(".concat(plus.io.convertLocalFileSystemURL("/static/font/SourceHanSansCN-Bold.otf"),")"),success:function(){console.log(n("success"," at pages\\task\\task.vue:145"))},fail:function(t){console.log(n("fail",JSON.stringify(t)," at pages\\task\\task.vue:148"))}})}};e.default=c}).call(this,a("6e42")["default"],a("0de9")["default"])},"9de1":function(t,e,a){"use strict";var n=a("0aa1"),s=a.n(n);s.a},f01f:function(t,e,a){"use strict";var n,s=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"b",function(){return s}),a.d(e,"c",function(){return i}),a.d(e,"a",function(){return n})}},[["04b5","common/runtime","common/vendor"]]]);